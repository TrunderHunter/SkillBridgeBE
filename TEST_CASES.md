# BẢNG 4.1 DANH SÁCH TEST CASE

## 4.3.1 KIỂM THỬ CHỨC NĂNG

| Test ID | Chức năng | Mô tả | Dữ liệu đầu vào | Dữ liệu đầu ra mong đợi |
|---------|-----------|-------|-----------------|-------------------------|
| **TC01** | **Đăng ký** | Kiểm tra việc đăng ký tài khoản mới | Họ tên: Nguyễn Văn A<br>Email: nguyenvana@gmail.com<br>Số điện thoại: 0901234567<br>Mật khẩu: Password123!<br>Vai trò: Học viên | Email sẽ được gửi mã OTP để xác thực tài khoản. Nếu người dùng nhập mã xác thực đúng thì tài khoản sẽ được tạo thành công. |
| **TC02** | **Xác thực OTP** | Kiểm tra xác thực OTP sau khi đăng ký | Email: nguyenvana@gmail.com<br>Mã OTP: 123456 | Tài khoản được kích hoạt thành công, người dùng có thể đăng nhập. |
| **TC03** | **Gửi lại OTP** | Kiểm tra chức năng gửi lại mã OTP | Email: nguyenvana@gmail.com | Mã OTP mới được gửi đến email, thời gian hết hạn được reset. |
| **TC04** | **Đăng nhập** | Kiểm tra chức năng đăng nhập | Email: nguyenvana@gmail.com<br>Mật khẩu: Password123! | Đăng nhập thành công và chuyển đến workspace tương ứng với vai trò (học viên/gia sư), nhận được access token và refresh token. |
| **TC05** | **Quên mật khẩu** | Người dùng yêu cầu reset mật khẩu | Email: nguyenvana@gmail.com | Email chứa mã OTP được gửi đến người dùng để reset mật khẩu. |
| **TC06** | **Reset mật khẩu** | Người dùng reset mật khẩu bằng OTP | Email: nguyenvana@gmail.com<br>Mã OTP: 654321<br>Mật khẩu mới: NewPassword123! | Mật khẩu được reset thành công, người dùng có thể đăng nhập bằng mật khẩu mới. |
| **TC07** | **Cập nhật thông tin cá nhân (Học viên)** | Kiểm tra cập nhật thông tin cá nhân học viên | Giới tính: Nam<br>Ngày sinh: 15/05/2000<br>Địa chỉ: 123 Đường ABC, Quận 1, TP.HCM<br>Avatar: [File ảnh] | Cập nhật thành công vào hệ thống, thông tin mới được hiển thị trên trang profile. |
| **TC08** | **Cập nhật thông tin cá nhân (Gia sư)** | Kiểm tra cập nhật thông tin cá nhân gia sư | Giới tính: Nam<br>Ngày sinh: 15/05/2000<br>Địa chỉ: 123 Đường ABC, Quận 1, TP.HCM<br>Lịch rảnh: Thứ 2, 4, 6 từ 18:00-20:00<br>Avatar: [File ảnh] | Cập nhật thành công vào hệ thống, thông tin mới được hiển thị trên trang profile. |
| **TC09** | **Xem thông tin cá nhân** | Kiểm tra xem profile | Người dùng đã đăng nhập<br>Email: nguyenvana@gmail.com | Thông tin hiển thị đúng thông tin cá nhân, lịch rảnh (nếu là gia sư), đánh giá (nếu có). |
| **TC10** | **Tìm kiếm gia sư** | Tìm kiếm gia sư theo bộ lọc (môn, khu vực, giá,...) | Tiêu chí tìm kiếm:<br>Môn học: Toán<br>Khu vực: Quận 1, TP.HCM<br>Giá: 100.000 - 200.000 VNĐ/giờ<br>Hình thức: Offline<br>Sắp xếp: Theo giá tăng dần | Hiển thị danh sách gia sư có bài đăng (TutorPost) dạy môn Toán, ở khu vực Quận 1, với mức giá trong khoảng 100.000 - 200.000 VNĐ/giờ, hình thức offline, sắp xếp theo giá. |
| **TC11** | **Tìm kiếm bài đăng học viên** | Tìm bài đăng từ học viên | Từ khóa tìm kiếm: "tiếng anh"<br>Trạng thái: APPROVED | Danh sách bài đăng đã được duyệt có đề cập đến từ khóa "tiếng anh" được hiển thị. |
| **TC12** | **Tạo bài đăng học viên** | Kiểm tra tạo bài đăng mới của học viên | Tiêu đề: Tìm gia sư dạy toán cho trẻ lớp 4<br>Nội dung: Tìm gia sư dạy toán cho trẻ lớp 4<br>Môn: Toán<br>Khối: Lớp 4<br>Hình thức học: Offline<br>Địa điểm: Quận Đồ Sơn, Thành phố Hải Phòng<br>Khoảng giá/giờ: 120.000₫<br>Yêu cầu đối với gia sư: Phải là nữ<br>Khung giờ học: Thứ 3 18:30 – 21:00, Thứ 4 18:30 – 21:00 | Bài đăng được tạo và hiển thị trong danh sách bài đăng của học viên với trạng thái "PENDING", admin nhận được thông báo để duyệt. |
| **TC13** | **Cập nhật bài đăng học viên** | Kiểm tra cập nhật bài đăng của học viên | ID bài đăng: post123<br>Tiêu đề mới: Tìm gia sư dạy toán lớp 4 (cập nhật)<br>Giá mới: 150.000₫ | Bài đăng được cập nhật thành công, trạng thái chuyển về "PENDING" nếu đã được duyệt trước đó. |
| **TC14** | **Xóa bài đăng học viên** | Kiểm tra xóa bài đăng của học viên | ID bài đăng: post123 | Bài đăng được xóa thành công khỏi hệ thống. |
| **TC15** | **Admin duyệt bài đăng học viên** | Admin duyệt/từ chối bài đăng | ID bài đăng: post123<br>Quyết định: Duyệt<br>Ghi chú: "Bài đăng hợp lệ" | Bài đăng được duyệt, trạng thái chuyển thành "APPROVED", học viên nhận được thông báo. |
| **TC16** | **Tạo bài đăng gia sư** | Gia sư tạo bài đăng giới thiệu dịch vụ | Tiêu đề: Gia sư Toán lớp 10<br>Mô tả: Tôi là giáo viên Toán với 5 năm kinh nghiệm<br>Môn học: Toán<br>Khối lớp: Lớp 10<br>Giá/giờ: 150.000₫<br>Hình thức: Offline<br>Địa điểm: Quận 1, TP.HCM<br>Lịch rảnh: Thứ 2, 4, 6 từ 18:00-20:00 | Bài đăng được tạo và hiển thị trong danh sách bài đăng của gia sư với trạng thái "ACTIVE" (nếu gia sư đã được xác thực). |
| **TC17** | **Cập nhật bài đăng gia sư** | Gia sư chỉnh sửa bài đăng | ID bài đăng: tutorPost123<br>Giá/giờ mới: 180.000₫<br>Lịch rảnh mới: Thứ 2, 4, 6 từ 19:00-21:00 | Bài đăng được cập nhật thành công, thông tin mới được hiển thị. |
| **TC18** | **Kích hoạt/Vô hiệu hóa bài đăng gia sư** | Gia sư kích hoạt hoặc vô hiệu hóa bài đăng | ID bài đăng: tutorPost123<br>Hành động: Kích hoạt | Trạng thái bài đăng được cập nhật (ACTIVE/INACTIVE), bài đăng hiển thị hoặc ẩn khỏi kết quả tìm kiếm. |
| **TC19** | **Xác thực thông tin gia sư** | Gia sư gửi yêu cầu xác thực trình độ | Thông tin học vấn: Đại học Bách Khoa, Khoa học máy tính<br>Chứng chỉ: TOEIC 850<br>Thành tích: Giải nhất Olympic Tin học<br>Ảnh bằng cấp: [File ảnh]<br>Ảnh chứng chỉ: [File ảnh] | Yêu cầu xác thực được gửi và hiển thị trong danh sách duyệt của admin với trạng thái "PENDING". |
| **TC20** | **Admin duyệt xác thực gia sư** | Admin duyệt/từ chối yêu cầu xác thực | ID yêu cầu xác thực: verification123<br>Quyết định: Duyệt<br>Ghi chú: "Thông tin hợp lệ" | Yêu cầu được duyệt, trạng thái gia sư chuyển thành "VERIFIED", thông báo được gửi đến gia sư. |
| **TC21** | **Học viên gửi yêu cầu liên hệ đến gia sư** | Học viên gửi yêu cầu từ bài đăng gia sư | ID bài đăng gia sư: tutorPost123<br>Môn học: Toán<br>Thông điệp: "Em muốn học toán lớp 10"<br>Lịch học mong muốn: Thứ 2, 4, 6 từ 18:00-20:00<br>Giá mong muốn: 150.000₫<br>Hình thức: Offline | Yêu cầu được gửi thành công, trạng thái "PENDING", gia sư nhận được thông báo. |
| **TC22** | **Gia sư gửi yêu cầu dạy đến học viên** | Gia sư gửi yêu cầu từ bài đăng học viên | ID bài đăng học viên: post123<br>ID bài đăng gia sư: tutorPost123<br>Môn học: Toán<br>Thông điệp: "Tôi có thể dạy toán lớp 4"<br>Lịch học đề xuất: Thứ 3, 5 từ 18:00-20:00<br>Giá đề xuất: 120.000₫<br>Hình thức: Offline | Yêu cầu được gửi thành công, trạng thái "PENDING", học viên nhận được thông báo. |
| **TC23** | **Chấp nhận yêu cầu liên hệ** | Gia sư/Học viên chấp nhận yêu cầu | ID yêu cầu: contactRequest123<br>Phản hồi: Chấp nhận | Yêu cầu được chấp nhận, trạng thái chuyển thành "ACCEPTED", người gửi nhận được thông báo. |
| **TC24** | **Từ chối yêu cầu liên hệ** | Gia sư/Học viên từ chối yêu cầu | ID yêu cầu: contactRequest123<br>Phản hồi: Từ chối<br>Lý do: "Không phù hợp lịch học" | Trạng thái yêu cầu chuyển thành "REJECTED", người gửi nhận được thông báo. |
| **TC25** | **Tạo lớp học từ yêu cầu đã chấp nhận** | Gia sư tạo lớp học từ yêu cầu đã chấp nhận | ID yêu cầu: contactRequest123<br>Tên lớp: Toán lớp 4<br>Số buổi học: 20 buổi<br>Thời lượng mỗi buổi: 90 phút<br>Lịch học: Thứ 3, 5 từ 18:00-19:30<br>Ngày bắt đầu: 01/06/2025 | Lớp học được tạo thành công, trạng thái "PENDING_CONTRACT", học viên nhận được thông báo. |
| **TC26** | **Tạo hợp đồng** | Gia sư tạo hợp đồng từ lớp học | ID lớp học: class123<br>Tiêu đề: Hợp đồng dạy Toán lớp 4<br>Mô tả: Hợp đồng dạy kèm Toán lớp 4<br>Tổng số buổi: 20 buổi<br>Giá mỗi buổi: 150.000₫<br>Phương thức thanh toán: INSTALLMENTS (4 đợt)<br>Lịch học: Thứ 3, 5 từ 18:00-19:30<br>Ngày bắt đầu: 01/06/2025 | Hợp đồng được tạo và gửi đến học viên với trạng thái "PENDING_STUDENT_APPROVAL", lịch thanh toán được tạo tự động. |
| **TC27** | **Học viên phản hồi hợp đồng** | Học viên chấp nhận/từ chối/yêu cầu chỉnh sửa hợp đồng | ID hợp đồng: contract123<br>Phản hồi: Chấp nhận | Hợp đồng chuyển sang trạng thái "PENDING_SIGNATURE", học viên có thể ký hợp đồng. |
| **TC28** | **Học viên ký hợp đồng bằng OTP** | Học viên ký hợp đồng bằng OTP | ID hợp đồng: contract123<br>Email: nguyenvana@gmail.com<br>Mã OTP: 123456 | Hợp đồng được ký thành công, trạng thái chuyển thành "APPROVED", gia sư tự động ký, thông báo được gửi đến cả hai bên, lịch học được tạo. |
| **TC29** | **Gửi lại OTP ký hợp đồng** | Học viên yêu cầu gửi lại OTP để ký hợp đồng | ID hợp đồng: contract123<br>Email: nguyenvana@gmail.com | Mã OTP mới được gửi đến email, thời gian hết hạn được reset. |
| **TC30** | **Xem lịch thanh toán** | Xem lịch thanh toán của hợp đồng | ID hợp đồng: contract123 | Lịch thanh toán được hiển thị, bao gồm: Số đợt, Số tiền mỗi đợt, Ngày thanh toán, Trạng thái. |
| **TC31** | **Thanh toán đợt** | Học viên thanh toán một đợt trong lịch thanh toán | ID lịch thanh toán: paymentSchedule123<br>Số đợt: 1<br>Phương thức: VNPay<br>Số tiền: 750.000₫ | Hệ thống tạo URL thanh toán VNPay, sau khi thanh toán thành công, trạng thái đợt thanh toán chuyển thành "PAID", thông báo được gửi. |
| **TC32** | **Xem lịch sử thanh toán** | Học viên xem lịch sử thanh toán | ID học viên: student123 | Lịch sử giao dịch được hiển thị, bao gồm: Ngày giao dịch, Số tiền, Trạng thái, Phương thức thanh toán, Mô tả. |
| **TC33** | **Xem chi tiết giao dịch** | Xem chi tiết một giao dịch thanh toán | ID giao dịch: payment123 | Chi tiết giao dịch được hiển thị, bao gồm: Thời gian, Số tiền, Phương thức, Trạng thái, Mô tả, Mã đơn hàng. |
| **TC34** | **Xem lịch học** | Hiển thị lịch học của học viên/gia sư | ID người dùng: user123 | Hiển thị danh sách lớp học theo các trạng thái (Đang diễn ra, Đã hoàn thành, Đã hủy). Bên dưới hiển thị lịch học theo tuần, bao gồm môn học, thời gian, ngày. |
| **TC35** | **Xem thông tin lớp học** | Xem chi tiết lớp học đã tham gia | ID lớp: class123 | Hiển thị thông tin lớp học, bao gồm: Môn học, Thông tin gia sư/học viên, Tài liệu học tập, Tiến độ lớp học, Thông tin hợp đồng, Lịch học. |
| **TC36** | **Cập nhật trạng thái lớp học** | Gia sư cập nhật trạng thái lớp học | ID lớp: class123<br>Trạng thái mới: ONGOING | Trạng thái lớp học được cập nhật, học viên nhận được thông báo. |
| **TC37** | **Điểm danh** | Điểm danh theo từng buổi học | ID lớp học: class123<br>Số buổi: 1<br>Trạng thái: PRESENT | Buổi học cập nhật trạng thái điểm danh (Có mặt/Vắng mặt), cả gia sư và học viên đều có thể điểm danh. |
| **TC38** | **Yêu cầu hủy buổi học** | Học viên/Gia sư yêu cầu hủy một buổi học | ID lớp: class123<br>Số buổi: 1<br>Lý do: Bận việc đột xuất | Yêu cầu hủy được gửi, trạng thái buổi học chuyển thành "CANCELLATION_REQUESTED", người còn lại nhận được thông báo. |
| **TC39** | **Phản hồi yêu cầu hủy buổi học** | Phản hồi yêu cầu hủy buổi học | ID lớp: class123<br>Số buổi: 1<br>Phản hồi: Đồng ý | Trạng thái buổi học cập nhật thành "CANCELLED", cả hai bên nhận được thông báo. |
| **TC40** | **Giao bài tập** | Gia sư giao bài tập cho lớp học | ID lớp: class123<br>Tiêu đề bài tập: Bài tập về nhà tuần 1<br>Nội dung: Làm bài tập 1-10 trang 25<br>Hạn nộp: 05/06/2025 | Bài tập được giao thành công, học viên nhận được thông báo, bài tập hiển thị trong danh sách bài tập của học viên. |
| **TC41** | **Nộp bài tập** | Học viên nộp bài tập | ID lớp: class123<br>ID bài tập: assignment123<br>File bài làm: [File PDF]<br>Ghi chú: "Đã hoàn thành" | Bài tập được nộp thành công, trạng thái chuyển thành "SUBMITTED", gia sư nhận được thông báo. |
| **TC42** | **Chấm điểm bài tập** | Gia sư chấm điểm bài tập | ID lớp: class123<br>ID bài tập: assignment123<br>Điểm: 8.5/10<br>Nhận xét: "Làm tốt, cần cải thiện phần tính toán" | Điểm được chấm thành công, học viên nhận được thông báo, điểm số hiển thị trong danh sách bài tập. |
| **TC43** | **Thêm tài liệu lớp học** | Gia sư thêm tài liệu cho lớp học | ID lớp: class123<br>Tên tài liệu: Bài giảng tuần 1<br>File: [File PDF]<br>Mô tả: "Tài liệu bài giảng tuần đầu tiên" | Tài liệu được thêm thành công, hiển thị trong danh sách tài liệu của lớp học, học viên có thể tải xuống. |
| **TC44** | **Cập nhật tài liệu lớp học** | Gia sư cập nhật tài liệu lớp học | ID lớp: class123<br>ID tài liệu: material123<br>Tên mới: Bài giảng tuần 1 (cập nhật)<br>File mới: [File PDF] | Tài liệu được cập nhật thành công, thông tin mới được hiển thị. |
| **TC45** | **Xóa tài liệu lớp học** | Gia sư xóa tài liệu lớp học | ID lớp: class123<br>ID tài liệu: material123 | Tài liệu được xóa thành công khỏi lớp học. |
| **TC46** | **Đánh giá gia sư** | Học viên đánh giá gia sư sau lớp học | ID lớp: class123<br>Nội dung: "Gia sư dạy dễ hiểu"<br>Số sao: 4.5 | Đánh giá được lưu và hiển thị trong profile gia sư, điểm đánh giá trung bình được cập nhật. |
| **TC47** | **Gia sư đánh giá học viên** | Gia sư đánh giá học viên sau lớp học | ID lớp: class123<br>Đánh giá: 5 sao<br>Nhận xét: "Học viên chăm chỉ, tiếp thu nhanh" | Đánh giá được lưu, hiển thị trong profile học viên. |
| **TC48** | **Tìm kiếm thông minh gia sư (AI)** | Học viên sử dụng AI để tìm gia sư phù hợp với bài đăng | ID bài đăng: post123<br>Giới hạn: 10 gia sư<br>Điểm tối thiểu: 0.5 | Hệ thống trả về danh sách gia sư được đề xuất dựa trên AI (hybrid search), sắp xếp theo độ phù hợp, kèm giải thích tại sao phù hợp. |
| **TC49** | **Tìm kiếm thông minh học viên (AI)** | Gia sư sử dụng AI để tìm bài đăng học viên phù hợp | ID bài đăng gia sư: tutorPost123<br>Giới hạn: 10 bài đăng<br>Điểm tối thiểu: 0.5 | Hệ thống trả về danh sách bài đăng học viên được đề xuất dựa trên AI, sắp xếp theo độ phù hợp, kèm giải thích. |
| **TC50** | **Làm khảo sát AI** | Học viên làm khảo sát để hệ thống hiểu nhu cầu | Câu hỏi 1: Môn học yêu thích?<br>Trả lời: Toán, Lý<br>Câu hỏi 2: Mức độ khó?<br>Trả lời: Trung bình<br>Câu hỏi 3: Hình thức học?<br>Trả lời: Offline | Khảo sát được lưu, hệ thống sử dụng để đề xuất gia sư phù hợp hơn trong các lần tìm kiếm sau. |
| **TC51** | **Xem trạng thái khảo sát AI** | Học viên kiểm tra đã làm khảo sát chưa | ID học viên: student123 | Hiển thị trạng thái khảo sát (Đã hoàn thành/Chưa hoàn thành), nếu chưa hoàn thành thì hiển thị nút làm khảo sát. |
| **TC52** | **Nhắn tin** | Gửi tin nhắn cho người dùng | Nội dung tin nhắn: "Em tìm gia sư tiếng anh đúng không nè"<br>ID người nhận: user123<br>ID cuộc trò chuyện: conversation123 | Tin nhắn hiển thị trong hộp thoại, người nhận nhận được thông báo real-time. |
| **TC53** | **Xem thông báo** | Người dùng xem danh sách thông báo | ID người dùng: user123 | Danh sách thông báo được hiển thị, bao gồm: Thông báo mới, Thông báo đã đọc, có thể đánh dấu đã đọc. |
| **TC54** | **Đánh dấu đã đọc thông báo** | Người dùng đánh dấu thông báo đã đọc | ID thông báo: notif123<br>ID người dùng: user123 | Thông báo được đánh dấu đã đọc, số lượng thông báo chưa đọc giảm đi. |
| **TC55** | **Kiểm tra xung đột lịch học** | Kiểm tra xung đột lịch học khi tạo bài đăng mới | ID học viên: student123<br>Lịch học mới: Thứ 3 18:30 – 21:00, Thứ 4 18:30 – 21:00 | Hệ thống kiểm tra và thông báo nếu có xung đột với các bài đăng đang hoạt động khác. |
| **TC56** | **Xem đánh giá gia sư** | Xem danh sách đánh giá của một gia sư | ID gia sư: tutor123 | Danh sách đánh giá được hiển thị, bao gồm: Số sao, Nội dung, Người đánh giá, Ngày đánh giá, Điểm trung bình. |
| **TC57** | **Xem thông tin hợp đồng** | Xem chi tiết hợp đồng đã ký | ID hợp đồng: contract123 | Hiển thị thông tin hợp đồng, bao gồm: Thông tin hai bên, Thông tin lớp học, Lịch học chi tiết, Cam kết của gia sư, Cam kết của học viên, Điều khoản chung, Lịch sử ký. |
| **TC58** | **Hủy hợp đồng** | Học viên/Gia sư hủy hợp đồng | ID hợp đồng: contract123<br>Lý do hủy: "Không có thời gian" | Hợp đồng được hủy, trạng thái chuyển thành "CANCELLED", cả hai bên nhận được thông báo. |
| **TC59** | **Xem các buổi học có sẵn để thanh toán** | Học viên xem các buổi học chưa thanh toán | ID lớp học: class123 | Danh sách các buổi học chưa thanh toán được hiển thị, học viên có thể chọn để thanh toán. |
| **TC60** | **Thanh toán nhiều buổi học** | Học viên thanh toán nhiều buổi học cùng lúc | ID lớp học: class123<br>Danh sách buổi: [1, 2, 3]<br>Phương thức: VNPay | Hệ thống tính tổng tiền và tạo URL thanh toán VNPay, sau khi thanh toán thành công, các buổi học được đánh dấu đã thanh toán. |

---

**Ghi chú:**
- Tất cả các test case đều yêu cầu người dùng đã đăng nhập (trừ TC01, TC02, TC03, TC04, TC05, TC06)
- Các ID trong test case là ví dụ, cần thay thế bằng ID thực tế khi test
- Một số test case có thể yêu cầu dữ liệu setup trước (ví dụ: tạo lớp học trước khi test điểm danh, tạo hợp đồng trước khi test thanh toán)
- Test case TC48, TC49 yêu cầu AI service đã được cấu hình và vectorization đã được thực hiện
- Test case TC21, TC22 yêu cầu bài đăng đã được duyệt (APPROVED cho học viên, ACTIVE cho gia sư)
- Test case TC25 yêu cầu yêu cầu liên hệ đã được chấp nhận (ACCEPTED)
- Test case TC26 yêu cầu lớp học đã được tạo và ở trạng thái PENDING_CONTRACT
- Test case TC28 yêu cầu hợp đồng đã được học viên chấp nhận (PENDING_SIGNATURE)
- Test case TC31, TC59, TC60 yêu cầu hợp đồng đã được ký (APPROVED) và có lịch thanh toán
